
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../tenants/">
      
      
      <link rel="icon" href="../images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.48">
    
    
      
        <title>Install CLM - CLM Admin Guide</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.6f8fc17f.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../extra.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#clm-deployment-guide" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="CLM Admin Guide" class="md-header__button md-logo" aria-label="CLM Admin Guide" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            CLM Admin Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Install CLM
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="CLM Admin Guide" class="md-nav__button md-logo" aria-label="CLM Admin Guide" data-md-component="logo">
      
  <img src="../images/logo.png" alt="logo">

    </a>
    CLM Admin Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Install CLM
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Install CLM
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-minimum-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      1. Minimum Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-pre-requisites-setup" class="md-nav__link">
    <span class="md-ellipsis">
      2. Pre-Requisites Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Pre-Requisites Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-install-zip" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Install zip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-unzip-clm-package" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Unzip CLM Package
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-docker-installation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Docker Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Docker Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-31-add-dockers-official-gpg-key" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.1: Add Docker‚Äôs Official GPG Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-32-add-docker-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.2: Add Docker Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-33-install-docker-engine-and-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.3: Install Docker Engine and Compose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-34-allow-docker-to-run-without-sudo" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.4: Allow Docker to Run Without Sudo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-install-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      4. Install NGINX
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-dns-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      5. DNS Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-nginx-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      6. NGINX Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. NGINX Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-61-configure-nginx-sites" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6.1: Configure NGINX Sites
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-ssl-certificates-setup-lets-encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      7. SSL Certificates Setup (Let‚Äôs Encrypt)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. SSL Certificates Setup (Let‚Äôs Encrypt)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-71-install-certbot" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7.1: Install Certbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-72-generate-ssl-certificates" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7.2: Generate SSL Certificates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-73-verify-and-enable-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7.3: Verify and Enable NGINX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-clm-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      8. CLM Deployment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. CLM Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-81-frontend-web-application" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8.1: Frontend (Web Application)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-82-backend-server-application" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8.2: Backend (Server Application)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-verification" class="md-nav__link">
    <span class="md-ellipsis">
      9. Verification
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Production Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpcvnet-creation-on-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      VPC/VNet Creation on Cloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-vpc-creation-recommended-for-quick-setup" class="md-nav__link">
    <span class="md-ellipsis">
      ‚ö° Automatic VPC Creation (Recommended for Quick Setup)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚ö° Automatic VPC Creation (Recommended for Quick Setup)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#steps-aws-console" class="md-nav__link">
    <span class="md-ellipsis">
      ü™ú Steps (AWS Console)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Application Load Balancer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Application Load Balancer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firewallsecurity-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Firewall/Security Groups
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Target Groups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Target Groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend-target-group" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Target Group
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-clm-api-target-group" class="md-nav__link">
    <span class="md-ellipsis">
      Backend CLM API Target Group
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend CLM API Target Group">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backend-acme-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend ACME API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-scep-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend SCEP API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-est-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend EST API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-cmp-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend CMP API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoint-urls" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint URLs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postgres-database-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Postgres Database Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Postgres Database Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#db-user-and-db-creation" class="md-nav__link">
    <span class="md-ellipsis">
      DB User and DB Creation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontend-server-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Server Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-availability" class="md-nav__link">
    <span class="md-ellipsis">
      High Availability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High Availability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-requisite-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisite Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-server-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Server Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-availability_1" class="md-nav__link">
    <span class="md-ellipsis">
      High Availability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High Availability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-requisite-configuration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisite Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-servers-to-target-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Register Servers to Target Groups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontend-server-application-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Server Application Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frontend Server Application Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clm-web-app-package" class="md-nav__link">
    <span class="md-ellipsis">
      CLM Web App Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviornment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Enviornment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-server-application-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Server Application Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend Server Application Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clm-server-package" class="md-nav__link">
    <span class="md-ellipsis">
      CLM Server Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#licensing" class="md-nav__link">
    <span class="md-ellipsis">
      Licensing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-varialbles" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Varialbles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RBAC
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            RBAC
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tenants/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Tenants
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../roles/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Roles
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Users
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../connectors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connectors
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../crypto_sources/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Crypto Sources
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../key_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Key Management
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../certificate_requests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certificate Requests
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../certificate_management/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Certificate Management
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../compliance/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Compliance
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../discovery/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Discovery
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_11" >
        
          
          <label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Protocols
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_11">
            <span class="md-nav__icon md-icon"></span>
            Protocols
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../scep_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SCEP Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../acme_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ACME Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../est_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    EST Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cmp_server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CMP Server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../integrations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Integration
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../reports/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Reports
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../notifications/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Notifications
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../logs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audit Logs
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../settings/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Settings
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../user_profile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Profile
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-minimum-requirements" class="md-nav__link">
    <span class="md-ellipsis">
      1. Minimum Requirements
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-pre-requisites-setup" class="md-nav__link">
    <span class="md-ellipsis">
      2. Pre-Requisites Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2. Pre-Requisites Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-install-zip" class="md-nav__link">
    <span class="md-ellipsis">
      Step 1: Install zip
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-unzip-clm-package" class="md-nav__link">
    <span class="md-ellipsis">
      Step 2: Unzip CLM Package
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-docker-installation" class="md-nav__link">
    <span class="md-ellipsis">
      3. Docker Installation
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3. Docker Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-31-add-dockers-official-gpg-key" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.1: Add Docker‚Äôs Official GPG Key
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-32-add-docker-repository" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.2: Add Docker Repository
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-33-install-docker-engine-and-compose" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.3: Install Docker Engine and Compose
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-34-allow-docker-to-run-without-sudo" class="md-nav__link">
    <span class="md-ellipsis">
      Step 3.4: Allow Docker to Run Without Sudo
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-install-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      4. Install NGINX
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-dns-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      5. DNS Configuration
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-nginx-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      6. NGINX Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6. NGINX Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-61-configure-nginx-sites" class="md-nav__link">
    <span class="md-ellipsis">
      Step 6.1: Configure NGINX Sites
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-ssl-certificates-setup-lets-encrypt" class="md-nav__link">
    <span class="md-ellipsis">
      7. SSL Certificates Setup (Let‚Äôs Encrypt)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="7. SSL Certificates Setup (Let‚Äôs Encrypt)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-71-install-certbot" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7.1: Install Certbot
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-72-generate-ssl-certificates" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7.2: Generate SSL Certificates
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-73-verify-and-enable-nginx" class="md-nav__link">
    <span class="md-ellipsis">
      Step 7.3: Verify and Enable NGINX
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-clm-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      8. CLM Deployment
    </span>
  </a>
  
    <nav class="md-nav" aria-label="8. CLM Deployment">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-81-frontend-web-application" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8.1: Frontend (Web Application)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-82-backend-server-application" class="md-nav__link">
    <span class="md-ellipsis">
      Step 8.2: Backend (Server Application)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-verification" class="md-nav__link">
    <span class="md-ellipsis">
      9. Verification
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#production-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Production Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pre-requisites" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-Requisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#license" class="md-nav__link">
    <span class="md-ellipsis">
      License
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#vpcvnet-creation-on-cloud" class="md-nav__link">
    <span class="md-ellipsis">
      VPC/VNet Creation on Cloud
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#automatic-vpc-creation-recommended-for-quick-setup" class="md-nav__link">
    <span class="md-ellipsis">
      ‚ö° Automatic VPC Creation (Recommended for Quick Setup)
    </span>
  </a>
  
    <nav class="md-nav" aria-label="‚ö° Automatic VPC Creation (Recommended for Quick Setup)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#steps-aws-console" class="md-nav__link">
    <span class="md-ellipsis">
      ü™ú Steps (AWS Console)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#application-load-balancer" class="md-nav__link">
    <span class="md-ellipsis">
      Application Load Balancer
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Application Load Balancer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#requirements" class="md-nav__link">
    <span class="md-ellipsis">
      Requirements
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#firewallsecurity-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Firewall/Security Groups
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Target Groups
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Target Groups">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend-target-group" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Target Group
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-clm-api-target-group" class="md-nav__link">
    <span class="md-ellipsis">
      Backend CLM API Target Group
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend CLM API Target Group">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backend-acme-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend ACME API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-scep-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend SCEP API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-est-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend EST API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend-cmp-api" class="md-nav__link">
    <span class="md-ellipsis">
      Backend CMP API
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#endpoint-urls" class="md-nav__link">
    <span class="md-ellipsis">
      Endpoint URLs
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#postgres-database-setup" class="md-nav__link">
    <span class="md-ellipsis">
      Postgres Database Setup
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Postgres Database Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#db-user-and-db-creation" class="md-nav__link">
    <span class="md-ellipsis">
      DB User and DB Creation
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontend-server-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Server Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-availability" class="md-nav__link">
    <span class="md-ellipsis">
      High Availability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High Availability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-requisite-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisite Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-server-deployment" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Server Deployment
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#high-availability_1" class="md-nav__link">
    <span class="md-ellipsis">
      High Availability
    </span>
  </a>
  
    <nav class="md-nav" aria-label="High Availability">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pre-requisite-configuration_1" class="md-nav__link">
    <span class="md-ellipsis">
      Pre-requisite Configuration
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-servers-to-target-groups" class="md-nav__link">
    <span class="md-ellipsis">
      Register Servers to Target Groups
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#frontend-server-application-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend Server Application Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frontend Server Application Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clm-web-app-package" class="md-nav__link">
    <span class="md-ellipsis">
      CLM Web App Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#enviornment-variables" class="md-nav__link">
    <span class="md-ellipsis">
      Enviornment Variables
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#backend-server-application-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      Backend Server Application Configuration
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend Server Application Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#clm-server-package" class="md-nav__link">
    <span class="md-ellipsis">
      CLM Server Package
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#licensing" class="md-nav__link">
    <span class="md-ellipsis">
      Licensing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#environment-varialbles" class="md-nav__link">
    <span class="md-ellipsis">
      Environment Varialbles
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="clm-deployment-guide"><strong>CLM Deployment Guide</strong></h1>
<p>This guide provides a step-by-step walkthrough for installing <strong>vScrawl</strong> on an in-house server. The installation process is automated through a setup script but requires administrator input and consent at various stages. Follow this guide carefully to ensure a successful installation.</p>
<hr />
<h2 id="1-minimum-requirements"><strong>1. Minimum Requirements</strong></h2>
<table>
<thead>
<tr>
<th>Resource</th>
<th>Specification</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Operating System</strong></td>
<td>Ubuntu 24.04.1 LTS</td>
</tr>
<tr>
<td><strong>CPU</strong></td>
<td>8 cores</td>
</tr>
<tr>
<td><strong>Memory (RAM)</strong></td>
<td>16 GB</td>
</tr>
<tr>
<td><strong>Disk Space</strong></td>
<td>200 GB</td>
</tr>
<tr>
<td><strong>Required Software</strong></td>
<td>Docker, NGINX</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="2-pre-requisites-setup"><strong>2. Pre-Requisites Setup</strong></h2>
<p>Before deploying CLM, ensure that the following tools and configurations are set up.</p>
<h3 id="step-1-install-zip"><strong>Step 1: Install zip</strong></h3>
<p><code>sudo apt update &amp;&amp; sudo apt install zip -y</code></p>
<h3 id="step-2-unzip-clm-package"><strong>Step 2: Unzip CLM Package</strong></h3>
<p>Unzip the deployment package provided by your administrator.</p>
<p><code>unzip clm-package.zip</code></p>
<hr />
<h2 id="3-docker-installation"><strong>3. Docker Installation</strong></h2>
<p>The CLM backend and frontend run as Docker containers. Follow the steps below to install Docker.</p>
<h3 id="step-31-add-dockers-official-gpg-key"><strong>Step 3.1: Add Docker‚Äôs Official GPG Key</strong></h3>
<p><code>sudo apt-get update</code>
<code>sudo apt-get install ca-certificates curl</code>
<code>sudo install -m 0755 -d /etc/apt/keyrings</code>
<code>sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</code>
<code>sudo chmod a+r /etc/apt/keyrings/docker.asc</code></p>
<h3 id="step-32-add-docker-repository"><strong>Step 3.2: Add Docker Repository</strong></h3>
<p><code>echo \   "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] \   https://download.docker.com/linux/ubuntu \   $(. /etc/os-release &amp;&amp; echo "$VERSION_CODENAME") stable" | \   sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</code>
<code>sudo apt-get update</code></p>
<h3 id="step-33-install-docker-engine-and-compose"><strong>Step 3.3: Install Docker Engine and Compose</strong></h3>
<p><code>sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin -y</code></p>
<h3 id="step-34-allow-docker-to-run-without-sudo"><strong>Step 3.4: Allow Docker to Run Without Sudo</strong></h3>
<p><code>sudo groupadd docker</code>
<code>sudo usermod -aG docker $USER</code>
<code>newgrp docker</code></p>
<hr />
<h2 id="4-install-nginx"><strong>4. Install NGINX</strong></h2>
<p>Install and configure <strong>NGINX</strong> as a reverse proxy for your CLM services.</p>
<p><code>sudo apt install nginx -y</code></p>
<hr />
<h2 id="5-dns-configuration"><strong>5. DNS Configuration</strong></h2>
<p>Create the following <strong>DNS entries</strong> for your CLM environment (replace YOURDOMAIN.com with your actual domain):</p>
<p><code>scep.YOURDOMAIN.com</code></p>
<p><code>cmp.clm.YOURDOMAIN.com</code></p>
<p><code>acme.YOURDOMAIN.com</code></p>
<p><code>api.clm.YOURDOMAIN.com</code></p>
<p><code>app.clm.YOURDOMAIN.com</code></p>
<p><code>est.YOURDOMAIN.com</code></p>
<hr />
<h2 id="6-nginx-configuration"><strong>6. NGINX Configuration</strong></h2>
<h3 id="step-61-configure-nginx-sites"><strong>Step 6.1: Configure NGINX Sites</strong></h3>
<ul>
<li>
<p>Sample NGINX configuration files are provided in the NGINX-Sample-Files directory.</p>
</li>
<li>
<p>Copy them to /etc/nginx/sites-available/.</p>
</li>
</ul>
<p><code>sudo cp NGINX-Sample-Files/* /etc/nginx/sites-available/</code></p>
<ul>
<li>
<p>Edit each file and replace all instances of YOURDOMAIN with your actual domain.</p>
</li>
<li>
<p>Create symbolic links to enable the sites:</p>
</li>
</ul>
<p><code>sudo ln -s /etc/nginx/sites-available/scep.YOURDOMAIN.com /etc/nginx/sites-enabled</code></p>
<p><code>sudo ln -s /etc/nginx/sites-available/cmp.clm.YOURDOMAIN.com /etc/nginx/sites-enabled</code></p>
<p><code>sudo ln -s /etc/nginx/sites-available/acme.YOURDOMAIN.com /etc/nginx/sites-enabled</code></p>
<p><code>sudo ln -s /etc/nginx/sites-available/api.clm.YOURDOMAIN.com /etc/nginx/sites-enabled</code></p>
<p><code>sudo ln -s /etc/nginx/sites-available/app.clm.YOURDOMAIN.com /etc/nginx/sites-enabled</code></p>
<p><code>sudo ln -s /etc/nginx/sites-available/est.YOURDOMAIN.com /etc/nginx/sites-enabled</code></p>
<hr />
<h2 id="7-ssl-certificates-setup-lets-encrypt"><strong>7. SSL Certificates Setup (Let‚Äôs Encrypt)</strong></h2>
<h3 id="step-71-install-certbot"><strong>Step 7.1: Install Certbot</strong></h3>
<p><code>sudo apt install certbot python3-certbot-nginx -y</code></p>
<h3 id="step-72-generate-ssl-certificates"><strong>Step 7.2: Generate SSL Certificates</strong></h3>
<p>Run the following commands for each domain:</p>
<p><code>sudo certbot certonly --standalone -d scep.YOURDOMAIN.com</code></p>
<p><code>sudo certbot certonly --standalone -d cmp.clm.YOURDOMAIN.com</code></p>
<p><code>sudo certbot certonly --standalone -d acme.YOURDOMAIN.com</code></p>
<p><code>sudo certbot certonly --standalone -d api.clm.YOURDOMAIN.com</code></p>
<p><code>sudo certbot certonly --standalone -d app.clm.YOURDOMAIN.com</code></p>
<p><code>sudo certbot certonly --standalone -d est.YOURDOMAIN.com</code></p>
<h3 id="step-73-verify-and-enable-nginx"><strong>Step 7.3: Verify and Enable NGINX</strong></h3>
<p><code>sudo nginx -t sudo service nginx start</code></p>
<hr />
<h2 id="8-clm-deployment"><strong>8. CLM Deployment</strong></h2>
<h3 id="step-81-frontend-web-application"><strong>Step 8.1: Frontend (Web Application)</strong></h3>
<ol>
<li>
<p>Navigate to the <strong>clm-web-app</strong> directory:</p>
<p><code>cd clm-web-app</code></p>
</li>
<li>
<p>Update the config.json file with your <strong>Backend API URL</strong> (e.g., https://api.clm.YOURDOMAIN.com).</p>
</li>
<li>
<p>Pull and start the containers:</p>
<p><code>docker compose pull docker compose up -d</code></p>
</li>
</ol>
<hr />
<h3 id="step-82-backend-server-application"><strong>Step 8.2: Backend (Server Application)</strong></h3>
<ol>
<li>
<p>Navigate to the <strong>clm-server</strong> directory:</p>
<p><code>cd clm-server</code></p>
</li>
<li>
<p>Edit the .env file to configure:</p>
<ul>
<li>
<p><strong>URLs</strong> for frontend, backend, and EJBCA</p>
</li>
<li>
<p><strong>Keycloak</strong> authentication</p>
</li>
<li>
<p><strong>SMTP server</strong> for email notifications</p>
</li>
</ul>
</li>
<li>
<p>Pull and start backend containers:</p>
<p><code>docker compose pull docker compose up -d</code></p>
</li>
</ol>
<hr />
<h2 id="9-verification"><strong>9. Verification</strong></h2>
<p>After deployment:</p>
<ul>
<li>Access <strong>CLM UI</strong> at:<br />
    https://app.clm.YOURDOMAIN.com</li>
</ul>
<h2 id="production-deployment"><strong>Production Deployment</strong></h2>
<h2 id="pre-requisites">Pre-Requisites</h2>
<p>In order to deploy CLM on cloud following pre-requisites should be kept in mind.</p>
<ul>
<li>
<p>6 DNS URL Entries for Frontend and Backend APIs.</p>
</li>
<li>
<p>Application Load Balancers with SSL Offloading Capabilities</p>
</li>
<li>
<p>SSL Certificates</p>
</li>
<li>
<p>We will use <a href="http://example.com/">Example Domain</a> as Domain name as reference for this deployment guide.</p>
</li>
<li>
<p>One or more Frontend Servers (with Linux OS like Ubuntu and docker engine) needed behind the Application Load Balancer.</p>
</li>
<li>
<p>One or more Backend Servers (with Linux OS like Ubuntu and docker engine and each backend server will run CLM API, ACME, SCEP, EST, CMP, Redis, Celery Worker, Celery Beat services) needed behind the Application Load Balancer.</p>
</li>
<li>
<p>Postgres DB Cluster (or atleast one instance that will be used by Backend Servers)</p>
</li>
<li>
<p>VPC/VNet on cloud service provider e.g., AWS/Azure/GCP (This guide is a generic guide for deployment)</p>
</li>
<li>
<p>Each backend server and frontend server requires Docker Engine because frontend app and backend services would run inside Docker Containers.</p>
</li>
</ul>
<h2 id="license">License</h2>
<p>A license file issue by product owner will be required for each separate backend server.</p>
<p>Each backend server will be running</p>
<ul>
<li>CLM API,</li>
<li>ACME,</li>
<li>SCEP,</li>
<li>EST,</li>
<li>CMP,</li>
<li>Redis Cache,</li>
<li>Celery Worker,</li>
<li>Celery Beat</li>
</ul>
<p>No license required for Postgresql Database instance or Frontend. License is required only for CLM API service to run.</p>
<h2 id="vpcvnet-creation-on-cloud">VPC/VNet Creation on Cloud</h2>
<p>First of all on any cloud you will first have to create a project on GCP/Hetzner or VPC/VNET on AWS/Azure</p>
<p>Yes ‚Äî AWS now gives you an option to <strong>automatically create a VPC</strong> with <strong>public and private subnets across multiple Availability Zones</strong> using its <strong>VPC Wizard</strong> or the <strong>‚ÄúVPC with subnets‚Äù</strong> template.</p>
<p>Here‚Äôs how you can use that <strong>automatic deployment option</strong> instead of creating everything manually üëá</p>
<hr />
<h2 id="automatic-vpc-creation-recommended-for-quick-setup">‚ö° <strong>Automatic VPC Creation (Recommended for Quick Setup)</strong></h2>
<h3 id="steps-aws-console">ü™ú Steps (AWS Console)</h3>
<ol>
<li>
<p><strong>Open AWS Management Console</strong> ‚Üí Go to <strong>VPC Dashboard</strong><br />
    üîó <a href="https://console.aws.amazon.com/vpc" title="https://console.aws.amazon.com/vpc">https://console.aws.amazon.com/vpc</a></p>
</li>
<li>
<p>In the left menu, click <strong>Your VPCs</strong> ‚Üí then click <strong>Create VPC</strong>.</p>
</li>
<li>
<p><strong>Select ‚ÄúVPC and more‚Äù</strong> (‚öôÔ∏è this enables the wizard to create subnets, route tables, IGW, and optionally NAT Gateway automatically).</p>
</li>
<li>
<p>Under <strong>Resources to create</strong>, you‚Äôll see:</p>
<ul>
<li>
<p>‚úÖ VPC</p>
</li>
<li>
<p>‚úÖ 2 Availability Zones</p>
</li>
<li>
<p>‚úÖ Public and Private subnets</p>
</li>
<li>
<p>‚úÖ Internet Gateway</p>
</li>
<li>
<p>‚úÖ NAT Gateway (optional)</p>
</li>
</ul>
</li>
<li>
<p>Configure the options:</p>
<ul>
<li>
<p><strong>Name tag:</strong> <code>my-vpc</code></p>
</li>
<li>
<p><strong>IPv4 CIDR block:</strong> <code>10.0.0.0/16</code></p>
</li>
<li>
<p><strong>Number of Availability Zones:</strong> <code>2</code></p>
</li>
<li>
<p><strong>Number of public subnets:</strong> <code>2</code></p>
</li>
<li>
<p><strong>Number of private subnets:</strong> <code>2</code></p>
</li>
<li>
<p><strong>NAT gateways:</strong> Choose ‚ÄúNone‚Äù if you don‚Äôt need outbound internet access for private subnets, or ‚Äú1 per AZ‚Äù for redundancy.</p>
</li>
</ul>
</li>
<li>
<p>Optionally:</p>
<ul>
<li>
<p>Keep <strong>DNS hostnames</strong> and <strong>DNS resolution</strong> enabled.</p>
</li>
<li>
<p>Review <strong>CIDR allocations</strong> for each subnet (AWS auto-assigns /24s, e.g. 10.0.0.0/24, 10.0.1.0/24, etc.).</p>
</li>
</ul>
</li>
<li>
<p>Click <strong>Create VPC</strong>.</p>
</li>
</ol>
<hr />
<p>üß© What AWS Automatically Creates</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>Resource</td>
<td>Example Name</td>
<td>Purpose</td>
</tr>
<tr>
<td><strong>VPC</strong></td>
<td><code>my-vpc</code></td>
<td>10.0.0.0/16 network</td>
</tr>
<tr>
<td><strong>Public Subnets</strong></td>
<td><code>PublicSubnet1</code>, <code>PublicSubnet2</code></td>
<td>For internet-facing resources</td>
</tr>
<tr>
<td><strong>Private Subnets</strong></td>
<td><code>PrivateSubnet1</code>, <code>PrivateSubnet2</code></td>
<td>For internal workloads</td>
</tr>
<tr>
<td><strong>Route Tables</strong></td>
<td><code>PublicRT</code>, <code>PrivateRT</code></td>
<td>Auto-routed accordingly</td>
</tr>
<tr>
<td><strong>Internet Gateway</strong></td>
<td><code>my-vpc-igw</code></td>
<td>For public subnet internet access</td>
</tr>
<tr>
<td><strong>NAT Gateway (optional)</strong></td>
<td><code>my-vpc-natgw</code></td>
<td>For outbound traffic from private subnets</td>
</tr>
</tbody>
</table>
<hr />
<p><strong>Result</strong></p>
<p>In under a minute, AWS deploys a <strong>fully working VPC network</strong> with two public and two private subnets across two AZs, including routing and gateways.</p>
<p>Similarly you can create any VNet on Azure or VPC on GCP or cloud service provider of your choice.</p>
<h2 id="application-load-balancer">Application Load Balancer</h2>
<h3 id="requirements">Requirements</h3>
<p>1 Application Load Balancer required in public subnet for 1 DNS URL of Frontend</p>
<p><a href="http://test.app.clm.dictalabs.com/" title="http://test.app.clm.dictalabs.com">app.clm.example.com</a>.</p>
<p>5 Application Load Balancers required in public subnet for 5 DNS URLs</p>
<p><a href="http://test.api.clm.dictalabs.com/" title="http://test.api.clm.dictalabs.com">api.clm.example.com</a>.</p>
<p><a href="http://test.acme.clm.dictalabs.com/" title="http://test.acme.clm.dictalabs.com">acme.clm.example.com</a>.</p>
<p><a href="http://test.scep.clm.dictalabs.com/" title="http://test.scep.clm.dictalabs.com">scep.clm.example.com</a>.</p>
<p><a href="http://test.est.clm.dictalabs.com/" title="http://test.est.clm.dictalabs.com">est.clm.example.com</a>.</p>
<p><a href="http://test.cmp.clm.dictalabs.com/" title="http://test.cmp.clm.dictalabs.com">cmp.clm.example.com</a>.</p>
<p>Create 6 Application Load Balancers and 6 Target Groups</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DNS</strong></td>
<td><strong>Application Load Balancer</strong></td>
<td><strong>Target Group</strong></td>
</tr>
<tr>
<td><a href="http://test.app.clm.dictalabs.com/" title="http://test.app.clm.dictalabs.com">app.clm.example.com</a>.</td>
<td>Frontend ALB</td>
<td>Frontend Target Group</td>
</tr>
<tr>
<td><a href="http://test.api.clm.dictalabs.com/" title="http://test.api.clm.dictalabs.com">api.clm.example.com</a>.</td>
<td>Backend CLM API</td>
<td>Backend CLM API Target Group</td>
</tr>
<tr>
<td><a href="http://test.acme.clm.dictalabs.com/" title="http://test.acme.clm.dictalabs.com">acme.clm.example.com</a>.</td>
<td>Backend ACME API</td>
<td>Backend ACME API</td>
</tr>
<tr>
<td><a href="http://test.scep.clm.dictalabs.com/" title="http://test.scep.clm.dictalabs.com">scep.clm.example.com</a>.</td>
<td>Backend SCEP API</td>
<td>Backend SCEP API</td>
</tr>
<tr>
<td><a href="http://test.est.clm.dictalabs.com/" title="http://test.est.clm.dictalabs.com">est.clm.example.com</a>.</td>
<td>Backend EST API</td>
<td>Backend EST API</td>
</tr>
<tr>
<td><a href="http://test.cmp.clm.dictalabs.com/" title="http://test.cmp.clm.dictalabs.com">cmp.clm.example.com</a>.</td>
<td>Backend CMP API</td>
<td>Backend CMP API</td>
</tr>
</tbody>
</table>
<h3 id="firewallsecurity-groups">Firewall/Security Groups</h3>
<p>Allow TCP port 5432 from Backend Server IP network like 10.0.0.0/16</p>
<h2 id="target-groups">Target Groups</h2>
<p>Define 6 Target Groups for 6 URLs</p>
<h3 id="frontend-target-group">Frontend Target Group</h3>
<p>As shown in Diagram frontend</p>
<p>Targets = Frontend Server</p>
<p>Port = 8080</p>
<p>Health Check Path</p>
<p>/login/health</p>
<h2 id="backend-clm-api-target-group">Backend CLM API Target Group</h2>
<p>As shown in Diagram Backend Server runs clm api service.</p>
<p>Targets = All CLM Backend Servers</p>
<p>Port = 8000</p>
<p>Health Check Path</p>
<p>/health</p>
<h3 id="backend-acme-api">Backend ACME API</h3>
<p>As shown in Diagram Backend Server runs acme service.</p>
<p>Targets = All CLM Backend Servers</p>
<p>Port = 8001</p>
<p>Health Check Path</p>
<p>/health</p>
<h3 id="backend-scep-api">Backend SCEP API</h3>
<p>As shown in Diagram Backend Server runs scep service.</p>
<p>Targets = All CLM Backend Servers</p>
<p>Port = 8002</p>
<p>Health Check Path</p>
<p>/health</p>
<h3 id="backend-est-api">Backend EST API</h3>
<p>As shown in Diagram Backend Server runs est service.</p>
<p>Targets = All CLM Backend Servers</p>
<p>Port = 8003</p>
<p>Health Check Path</p>
<p>/health</p>
<h3 id="backend-cmp-api">Backend CMP API</h3>
<p>As shown in Diagram Backend server runs cmp service.</p>
<p>Targets = All CLM Backend Servers</p>
<p>Port = 18080</p>
<p>Health Check Path</p>
<p>/health</p>
<h2 id="endpoint-urls">Endpoint URLs</h2>
<p>Note Down the Endpoint URLs of Application Load Balancers.</p>
<p>DNS Entries</p>
<p>Create 6 DNS entries on your DNS registrar (e.g., godaddy, namecheap)</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DNS CNAME</strong></td>
<td><strong>Endpoint of Application Load Balancer</strong></td>
</tr>
<tr>
<td><a href="http://test.app.clm.dictalabs.com/" title="http://test.app.clm.dictalabs.com">app.clm.example.com</a>.</td>
<td>Endpoint DNS name of Frontend ALB</td>
</tr>
<tr>
<td><a href="http://test.api.clm.dictalabs.com/" title="http://test.api.clm.dictalabs.com">api.clm.example.com</a>.</td>
<td>Endpoint DNS name of Backend CLM API ALB</td>
</tr>
<tr>
<td><a href="http://test.acme.clm.dictalabs.com/" title="http://test.acme.clm.dictalabs.com">acme.clm.example.com</a>.</td>
<td>Endpoint DNS name of Backend ACME API</td>
</tr>
<tr>
<td><a href="http://test.scep.clm.dictalabs.com/" title="http://test.scep.clm.dictalabs.com">scep.clm.example.com</a>.</td>
<td>Endpoint DNS name of Backend SCEP API</td>
</tr>
<tr>
<td><a href="http://test.est.clm.dictalabs.com/" title="http://test.est.clm.dictalabs.com">est.clm.example.com</a>.</td>
<td>Endpoint DNS name of Backend EST API</td>
</tr>
<tr>
<td><a href="http://test.cmp.clm.dictalabs.com/" title="http://test.cmp.clm.dictalabs.com">cmp.clm.example.com</a>.</td>
<td>Endpoint DNS name of Backend CMP API</td>
</tr>
</tbody>
</table>
<p>OR</p>
<p>In case your Application Load Balancers use Public IP addresses instead of DNS names.</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>DNS A record</strong></td>
<td><strong>Endpoint of Application Load Balancer</strong></td>
</tr>
<tr>
<td><a href="http://test.app.clm.dictalabs.com/" title="http://test.app.clm.dictalabs.com">app.clm.example.com</a>.</td>
<td>Public IP Address of Frontend ALB</td>
</tr>
<tr>
<td><a href="http://test.api.clm.dictalabs.com/" title="http://test.api.clm.dictalabs.com">api.clm.example.com</a>.</td>
<td>Public IP Address of Backend CLM API ALB</td>
</tr>
<tr>
<td><a href="http://test.acme.clm.dictalabs.com/" title="http://test.acme.clm.dictalabs.com">acme.clm.example.com</a>.</td>
<td>Public IP Address of Backend ACME API</td>
</tr>
<tr>
<td><a href="http://test.scep.clm.dictalabs.com/" title="http://test.scep.clm.dictalabs.com">scep.clm.example.com</a>.</td>
<td>Public IP Address of Backend SCEP API</td>
</tr>
<tr>
<td><a href="http://test.est.clm.dictalabs.com/" title="http://test.est.clm.dictalabs.com">est.clm.example.com</a>.</td>
<td>Public IP Address of Backend EST API</td>
</tr>
<tr>
<td><a href="http://test.cmp.clm.dictalabs.com/" title="http://test.cmp.clm.dictalabs.com">cmp.clm.example.com</a>.</td>
<td>Public IP Address of Backend CMP API</td>
</tr>
</tbody>
</table>
<h2 id="postgres-database-setup">Postgres Database Setup</h2>
<p>For Postgres Setup create a DB instance with a</p>
<ul>
<li>
<p>clm user</p>
</li>
<li>
<p>clm password</p>
</li>
<li>
<p>clm db</p>
</li>
<li>
<p>Firewall/Security Group allowed ports = TCP 5432</p>
</li>
</ul>
<p>Note:</p>
<p>In this guide we will use</p>
<p>clm_user,</p>
<p>clm_password,</p>
<p>clm_db and</p>
<p>default Postgres port 5432</p>
<p>If your cloud provider just creates a postgres instance with default username postgres, database postgres with some password you set. Then you will have to install a psql client on your machine or a cloud server.</p>
<h3 id="db-user-and-db-creation">DB User and DB Creation</h3>
<p>Step-by-Step (via <code>psql</code>)</p>
<p>1Ô∏è‚É£ Connect to your PostgreSQL server as an admin (e.g., <code>postgres</code> or master user)</p>
<p><code>psql -h psql -h database-instance-IP-addres -U postgres -d postgres -U postgres</code></p>
<p>by default postgres db instance has a default user 'postgres'</p>
<p>2Ô∏è‚É£ Create the database</p>
<p><code>CREATE DATABASE clm_db;</code></p>
<p>3Ô∏è‚É£ Create the user and assign password</p>
<p><code>CREATE USER clm_user WITH PASSWORD 'clm_password';</code></p>
<p>4Ô∏è‚É£ Grant privileges on the database</p>
<p><code>GRANT ALL PRIVILEGES ON DATABASE clm_db TO clm_user;</code></p>
<p>5Ô∏è‚É£ (Optional but Recommended) Make <code>clm_user</code> the owner of that database</p>
<p><code>ALTER DATABASE clm_db OWNER TO clm_user;</code></p>
<p>6Ô∏è‚É£ Verify</p>
<p>List Databases</p>
<p><code>\l</code></p>
<p>List roles/users:</p>
<p><code>\du</code></p>
<p>7Ô∏è‚É£ Exit <code>psql</code>¬†</p>
<p><code>\q</code></p>
<p>Now test login</p>
<p>From CLI:</p>
<p><code>psql -h database-instance-IP-addres -U clm_user -d clm_db</code></p>
<p>Enter password for example in this guide we are using ‚Äúclm_password‚Äù.</p>
<h2 id="frontend-server-deployment">Frontend Server Deployment</h2>
<p>System Requirements</p>
<ul>
<li>
<p>OS = Ubuntu 24.04LTS or Ubuntu 22.04LTS</p>
</li>
<li>
<p>vCPUs = 2</p>
</li>
<li>
<p>Memory = 4GB</p>
</li>
<li>
<p>Storage = 10GB</p>
</li>
<li>
<p>Firewall/Security Group allowed ports = SSH, TCP port 8080</p>
</li>
</ul>
<h2 id="high-availability">High Availability</h2>
<p>It is recommended to have atleast two frontend servers in different availability zones on (Cloud Service Provider of your choice) for hight availability.  </p>
<h3 id="pre-requisite-configuration">Pre-requisite Configuration</h3>
<p>On each Frontend Ubuntu Server<br />
Install Docker using</p>
<pre><code class="language-bash">########## INSTALLATION############
# https://docs.docker.com/engine/install/ubuntu/

# Step-1:
# Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;) stable&quot; | \
  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null

sudo apt-get update

# Step-2:
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

##### After Installation #######

### Run docker commands without sudo
# https://docs.docker.com/engine/install/linux-postinstall/

sudo groupadd docker
# Add user to docker group
sudo usermod -aG docker $USER
</code></pre>
<p>Install zip</p>
<p><code>apt install zip -y</code></p>
<h2 id="backend-server-deployment">Backend Server Deployment</h2>
<p>System Requirements</p>
<ul>
<li>
<p>OS = Ubuntu 24.04LTS or Ubuntu 22.04LTS</p>
</li>
<li>
<p>vCPUs = 4</p>
</li>
<li>
<p>Memory = 8GB</p>
</li>
<li>
<p>Storage = 15GB</p>
</li>
<li>
<p>Firewall/Security Group allowed ports = SSH, TCP ports 8000, 8001, 8002, 8003, 18080</p>
</li>
</ul>
<h2 id="high-availability_1">High Availability</h2>
<p>It is recommended to have at least two backend servers in different availability zones on (Cloud Service Provider of your choice) for high availability.</p>
<h3 id="pre-requisite-configuration_1">Pre-requisite Configuration</h3>
<p>On each backend Ubuntu Server<br />
Install Docker using</p>
<pre><code class="language-bash">########## INSTALLATION############
# https://docs.docker.com/engine/install/ubuntu/

# Step-1:
# Add Docker's official GPG key:
sudo apt-get update
sudo apt-get install ca-certificates curl
sudo install -m 0755 -d /etc/apt/keyrings
sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc
sudo chmod a+r /etc/apt/keyrings/docker.asc

# Add the repository to Apt sources:
echo \
  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \
  $(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;) stable&quot; | \
  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null

sudo apt-get update

# Step-2:
sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin

##### After Installation #######

### Run docker commands without sudo
# https://docs.docker.com/engine/install/linux-postinstall/

sudo groupadd docker
# Add user to docker group
sudo usermod -aG docker $USER
</code></pre>
<p>Install zip</p>
<p><code>apt install zip -y</code></p>
<h2 id="register-servers-to-target-groups">Register Servers to Target Groups</h2>
<p>Register Servers to Target Groups of ALBs (Application Load Balancers)</p>
<p>Register frontend servers to Frontend Target Group.</p>
<p>Register all backend servers in each Backend Target Group. Same backend servers will be part of all Backent Target Groups.</p>
<h2 id="frontend-server-application-configuration">Frontend Server Application Configuration</h2>
<h3 id="clm-web-app-package">CLM Web App Package</h3>
<p>Copy clm-web-app.zip to server for example in /home/clm-frontend using SCP with any tool like winSCP.</p>
<p>unzip clm-web-app.zip</p>
<p>go to directory clm-web-app</p>
<h3 id="enviornment-variables">Enviornment Variables</h3>
<p>edit config.json and write backend api domain.</p>
<p><code>``{ "API_BASE_URL": "https://api.clm.example.com/api/v1", "PUBLIC_API_BASE_URL": "https://api.clm.example.com" }</code></p>
<p>run the following command</p>
<p><code>docker compose up -d</code></p>
<p>The docker container will start working.</p>
<p>The backend services docker container will start working. You can verify as well.</p>
<p><code>docker ps -a</code></p>
<p>To view logs of a backend service you can use following command and to stop view logs you will use <strong>ctrl+c</strong></p>
<p><code>docker logs -f clm-web-app</code></p>
<h2 id="backend-server-application-configuration">Backend Server Application Configuration</h2>
<h3 id="clm-server-package">CLM Server Package</h3>
<p>Copy clm-server.zip to server for example in /home/clm-backend using SCP with any tool like winSCP.</p>
<p>unzip clm-server.zip</p>
<p>go to directory clm-server</p>
<h3 id="licensing">Licensing</h3>
<p><code>sudo su chmod u+x ./get-system-uuid.sh</code></p>
<p>You will get system-uuid like this</p>
<p><strong>OS ID: deff8676-a68f-4662-a30b-c7485e3e3ff9</strong><br />
<strong>Share this OS ID with Dictalabs to acquire license file for this deployment.</strong></p>
<p>Share this OS ID with Dictalabs to acquire license file <strong>license.lic.xml</strong> for this server and copy license file in the same directory.</p>
<h3 id="environment-varialbles">Environment Varialbles</h3>
<p>edit .env and set Environment variables.</p>
<p>Set Postgres DB URL</p>
<p>for example we are using here Postgres endpoint dns name as</p>
<p><a href="http://pg-db.ch826uia61kw.eu-west-2.rds.amazonaws.com/" title="http://pg-db.ch826uia61kw.eu-west-2.rds.amazonaws.com">pg-db.ch826uia61kw.eu-west-2.rds.amazonaws.com</a></p>
<p><code>DATABASE_URL=postgresql+asyncpg://clm_user:clm_password@pg-db.ch826uia61kw.eu-west-2.rds.amazonaws.com:5432/clm_db</code></p>
<p>Set SMTP configuration</p>
<p><code>SMTP_SERVER=mail.example.com SMTP_PORT=587 SENDER_EMAIL=notify@example.com SENDER_PASSWORD=P@ssword123. SMTP_USE_TLS=true SMTP_USE_SSL=false</code></p>
<p>Set Keycloak parameters provided by Keycloak service provider (for example Dictalabs provided Keycloak).</p>
<p><code>KEYCLOAK_BASE_URL=https://keycloak.example.com:8443 KEYCLOAK_REALM=clm KEYCLOAK_CLIENT_ID=clm KEYCLOAK_CLIENT_SECRET= add client secret</code></p>
<p>Set EJBCA connector URL (for example Dictalabs provided EJBCA)</p>
<p><code>EJBCA_CONNECTOR=http://144.126.224.110:8004</code></p>
<p>To run all the backend services run the following command</p>
<p><code>docker compose up -d</code></p>
<p>The backend services docker container will start working. You can verify as well.</p>
<p><code>docker ps -a</code></p>
<p>To view logs of a backend service you can use following command and to stop view logs you will use <strong>ctrl+c</strong></p>
<pre><code class="language-bash">docker logs -f clm_api
docker logs -f est_server
docker logs -f acme_server
docker logs -f redis
docker logs -f scep_server
docker logs -f cmp_server
docker logs -f celery_beat
docker logs -f celery_worker
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      ¬© 2025 Dictalabs. All rights reserved.
    </div>
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.83f73b43.min.js"></script>
      
        <script src="../extra.js"></script>
      
    
  </body>
</html>